@using CodeRag.Shared.EntityFramework.Entities
@if (_projects != null && _project != null)
{
    <MudGrid Justify="Justify.FlexEnd" Style="align-items: center" Spacing="1">
        <MudItem>
            <MudMenu Dense
                     AnchorOrigin="Origin.TopRight"
                     TransformOrigin="Origin.TopRight">
                <ActivatorContent>
                    <code>@_project.Name</code>
                </ActivatorContent>
                <ChildContent>
                    @foreach (Project project in _projects)
                    {
                        <MudMenuItem Style="text-align: end" OnClick="() => SelectProject(project)"><code>@project.Name</code></MudMenuItem>
                    }
                    <MudMenuItem Style="border-top: 1px solid silver" Icon="@Icons.Material.Filled.AddCircleOutline" OnClick="NewProject">Create a new Project</MudMenuItem>
                </ChildContent>
            </MudMenu>
        </MudItem>
        <MudItem>
            <RIconButton Icon="@Icons.Material.Filled.Settings" Color="Color.Inherit" ToolTip="Project Settings" OnClick="() => ShowProjectSettings(_project)"/>
        </MudItem>
    </MudGrid>
    
}
else
{
    <RProgressIndicator />
}